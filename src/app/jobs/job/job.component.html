<div>
    <h3 class="text-center">Jobs List</h3>
        <table class=" table table-striped table-bordered table-hover" align="center">
          <thead>
            <tr>
              
              <th> Job ID</th>
              <th> Name</th>
              <th>Customer</th>
              <th>Order Date  </th>
              <th> Shipping Date</th>
              <th>Shipped Date</th>
              <th> Estimated Hour </th>
              <th> Actual Hour</th>
              <th>Status</th>
              <th>Previous Job  </th>
              <th>
                <button class="btn btn-default fa fa-plus" id="add" (click)="presentJobDialog('Add', template)"></button>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let job of jobs">
              
              <td> {{job.job_id}} </td>
              <td> {{job.name}} </td>
              <td> {{job.customer_id}} </td>
              <td> {{job.order_date}} </td>
              <td> {{job.shipping_date}} </td>
              <td> {{job.shipped_date}} </td>
              <td> {{job.estimated_hour}} </td>
              <td> {{job.actual_hour}} </td>
              <td> {{job.status}} </td>
              <td> {{job.previousjob_id}} </td>
              <td>
                <button class="btn btn-default fa fa-pencil" (click)="presentJobDialog( 'Update', job)"></button>
                <button class="btn btn-default fa fa-trash" (click)="removeJob(job)"></button>
  
              </td>
            </tr>
          </tbody>
    </table>
  </div>
      
  <ng-template #template>
  
          <div class="modal-header">
              <h4 class="modal-title text-center">{{ jobMode + " Job " }}</h4>
              <button type="button" class="close pull-right" 
                      aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
          </button>
          </div>
          <div class="modal-body">
            
            <div class="container-fluid">
              <div class="text-center">
                <h4>Job</h4>
              </div>
              <form [formGroup]="jobForm"  novalidate >
                <div class="form-row" >
                  <div class="col-sm-4 form-group ">       
                    <input type="text" class="form-control" placeholder="Job id" 
                      formControlName="job_id" [(ngModel)]= "job.job_id"  />  
                  </div>
                  <div class="col-sm-4 form-group ">       
                    <input type="text" class="form-control" placeholder="name" 
                      formControlName="name" [(ngModel)] = "job.name"  />  
                  </div>
                  <div class="col-sm-4 form-group ">  
                    <select class="form-control" formControlName="customer_id" [(ngModel)] = "job.customer_id"> 
                      <option value="" selected disabled  >Customer</option>     
                      <option *ngFor="let customer of customers" [value] = "customer.customer_id">{{customer.customer_id}}</option> 
                    </select>
                  </div>
                </div>
                <div class="form-row" >
                  <div class="col-sm-4 form-group ">       
                    <input type="text" class="form-control" placeholder="Order date" bsDatepicker
                      formControlName="order_date" [(ngModel)]= "job.order_date"  />  
                  </div>
                  <div class="col-sm-4 form-group ">       
                    <input type="text" class="form-control" placeholder="Shipping date" bsDatepicker
                      formControlName="shipping_date" [(ngModel)]= "job.shipping_date"  />  
                  </div>
                  <div class="col-sm-4 form-group ">       
                    <input type="text" class="form-control" placeholder="shipped date" bsDatepicker
                      formControlName="shipped_date" [(ngModel)]= "job.shipped_date"  />  
                  </div>
                </div>
                <div class="form-row" >
                  <div class="col-sm-4 form-group ">       
                    <input type="text" class="form-control" placeholder="Estimated Hour" 
                      formControlName="estimated_hour" [(ngModel)]= "job.estimated_hour"  />  
                  </div>
                  <div class="col-sm-4 form-group ">       
                    <input type="text" class="form-control" placeholder="Actual Hour" 
                      formControlName="actual_hour" [(ngModel)]= "job.actual_hour"  />  
                  </div>
                  <div class="col-sm-4 form-group ">       
                    <input type="text" class="form-control" placeholder="Status" 
                      formControlName="status" [(ngModel)]= "job.status"  />  
                  </div>
                </div>
                <div class="form-row">
                  <div class="col-sm-4 form-group ">       
                    <input type="text" class="form-control" placeholder="Previous Job" 
                      formControlName="previousjob_id" [(ngModel)]= "job.previousjob_id"  />  
                  </div>
                  <div class="col-sm-4 form-group">
                    <input type="text" class="form-control" placeholder=" " 
                    formControlName="previousjob_id" [(ngModel)]= "job.previousjob_id"  />  
                  </div>
                  <div class="col-sm-4 form-group">
                    <input type="text" class="form-control" placeholder=" " 
                    formControlName="previousjob_id" [(ngModel)]= "job.previousjob_id"  />  
                  </div>
                  </div>
                  
                
                <div class="clear-fix"></div>
              <div class="form-row" >
                <div *ngIf="isInsert" class="col s4">
  
                  <button type="submit" (click)="addJob(jobForm.value)" class="btn btn-success pull-right" [disabled]="!jobForm.valid">Add</button>
                </div>
                <div *ngIf="!isInsert" class="col s4">
  
                  <button type="submit" (click)="updateJob()" class="btn btn-success pull-right" [disabled]="!jobForm.valid">Update</button>
                </div>
                
                <div class="col s4">
                  <button type="button" class=" btn lime lightern-1 close_btn pull-right " (click)="modalRef.hide()">Close</button>
                 
                </div>
                
  
              </div>
              </form>
            </div>
          </div>
        
  </ng-template>
  
   
    
  
  

